<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		
		<style type="text/css">
			.box{
				width: 100px;
				height: 100px;
				background: green;
			}
		</style>
	</head>

	<body>
		<div class="box" id="box">
			
		</div>
		<button id="btn">button</button>
		
		<script type="text/javascript">
			var box = document.getElementById('box');
			var btn = document.getElementById('btn');
			
			bindEventListener(box,'click',fun1,false);
			bindEventListener(box,'click',fun2,false);

			bindEventListener(btn,'click',function(){
				removeEvent(box,'click',fun1);
				removeEvent(box,'click',fun2);
			},false);

			function fun1() {
				alert('onload1');
			};

			function fun2() {
				alert('onload2');
			};

			


			/*
			 * 绑定事件的兼容方法
			 * 参数1：要绑定的对象
			 * 参数2：要绑定的事件名称
			 * 参数3：要绑定的事件函数。
			 * 参数4：true 支持捕获，false 支持冒泡。
			 */

			function bindEventListener(obj, evStr, fn, flag) {
				if(obj.addEventListener) {
					obj.addEventListener(evStr, fn, flag);
				} else {
					obj.attachEvent("on" + evStr, fn);
				}
			}
			
			//取消事件
			function removeEvent(obj, evStr, fn) {
				if(obj.addEventListener) {
					obj.removeEventListener(evStr,fn,false);
				} else {
					obj.detachEvent('on'+evStr,fn);
				}
			}
		</script>
	</body>

</html>